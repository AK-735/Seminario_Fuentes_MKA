---
title: "Registros de VIH correlacionado con diversos factores"
author: "Amina Khantimirova, Wiam Messari y Emma Arrieta"
date: "`r Sys.Date()`"
output: 
  html_document:
    toc: true
    toc_float: true
    toc_depth: 3
    theme: flatly     
    highlight: tango  
    df_print: paged 
---

<style>
body {
  text-align: justify;
  font-family: "Poppins", "Segoe UI", sans-serif;
  background-color: #fff0f5;
  color: #333;
}
</style>

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


## **Introducción**

El **VIH** significa virus de inmunodeficiencia humana. Daña su sistema inmunitario al destruir un tipo de glóbulo blanco que ayuda a su cuerpo a combatir las infecciones. Esto lo pone en riesgo de tener otras infecciones y enfermedades.

Esta enfermedad afecta a un gran porcentaje de la población española, resultando en un foco de malestar. En este seminario estudiaremos aquellos indicativos que potencian la expresión de dicha enfermedad. 

Nuestro primer foco de interés es estudiar la correlación entre la orientación sexual y el VIH, pero también incluiresmos otros factores de riesgo que podrían desencadenar el virus.


```{r , eval = TRUE,message=FALSE, warning=FALSE}
# Datos importacion
library(tidyverse)
library(rjson)


```

### **Importación datos JSON:**

```{r , eval = TRUE,message=FALSE, warning=FALSE}
#file_path <- file.choose()

# Leer JSON de manera segura
REG_Vih <- fromJSON(file = "Input/DATA/registro-nuevas-infecciones-por-vih.json")

# Extraer la lista 'fields' de cada registro
REG_Vih_df <- map_dfr(REG_Vih, ~ .x$fields)

# Mostrar primeras filas en tabla interactiva
str(REG_Vih, max.level = 2)   
head(REG_Vih_df)
```
``` {r , eval = TRUE,message=FALSE, warning=FALSE}
REG_Vih_df %>% count(sexo)
REG_Vih_df %>% count(conducta_sexual)

ggplot(REG_Vih_df, aes(x = edad, fill = sexo)) +
  geom_histogram(binwidth = 5, position = "dodge")

```

